pramod@ritchie:~/perf/stand_alone_drust_program/linked_list_bench$ cargo run   -- 600000000
<snipped>

--- x86_64 Hardware Benchmark ---
List Size: 600000000

[Results]
Total Time:   2.010219182s
Total Cycles: 5628611296

[Efficiency Metrics]
Time per Node:   3.35 ns
Cycles per Node: 9.38 ticks
Effective Speed: 2.80 GHz

thread 'main' (2473745) has overflowed its stack
fatal runtime error: stack overflow, aborting




pramod@ritchie:~/perf/stand_alone_drust_program/linked_list_bench$ coredumpctl gdb
<initialising messages>

Machine ID: 25c35386e8044dd690c58f040bfdb021
      Hostname: ritchie
       Storage: /var/lib/systemd/coredump/core.linked_list_ben.1007.f75f573ccfbe4f65911f7020eb78f2e9.2473526.1768704505000000.zst (present)
  Size on Disk: 1.2G
       Package: glibc/2.40-1ubuntu3.1
      build-id: 9c85e62986981d68d9d418ae047e9acda18badf9
       Message: Process 2473526 (linked_list_ben) of user 1007 dumped core.
                
                Module /home/pramod/perf/stand_alone_drust_program/linked_list_bench/target/debug/linked_list_bench from deb glibc-2.40-1ubuntu3.1.amd64
                Module linux-vdso.so.1 from deb linux-intel-6.11.0-1007.7.amd64
                Module ld-linux-x86-64.so.2 from deb glibc-2.40-1ubuntu3.1.amd64
                Module libc.so.6 from deb glibc-2.40-1ubuntu3.1.amd64
                Module libgcc_s.so.1 from deb gcc-14-14.2.0-4ubuntu2.amd64
                Stack trace of thread 2473526:
                #0  0x0000704baf4a3f1c __pthread_kill_implementation (libc.so.6 + 0xa3f1c)
                #1  0x0000704baf44519e __GI_raise (libc.so.6 + 0x4519e)
                #2  0x0000704baf428902 __GI_abort (libc.so.6 + 0x28902)
                #3  0x000058e09b44017a n/a (/home/pramod/perf/stand_alone_drust_program/linked_list_bench/target/debug/linked_list_bench + 0x4317a)
                #4  0x000058e09b43ee29 n/a (/home/pramod/perf/stand_alone_drust_program/linked_list_bench/target/debug/linked_list_bench + 0x41e29)
                #5  0x000058e09b442843 n/a (/home/pramod/perf/stand_alone_drust_program/linked_list_bench/target/debug/linked_list_bench + 0x45843)
                #6  0x0000704baf445250 __restore_rt (libc.so.6 + 0x45250)
                #7  0x000058e09b416c74 n/a (/home/pramod/perf/stand_alone_drust_program/linked_list_bench/target/debug/linked_list_bench + 0x19c74)
                #8  0x000058e09b417257 n/a (/home/pramod/perf/stand_alone_drust_program/linked_list_bench/target/debug/linked_list_bench + 0x1a257)
                #9  0x0000704baf42a47b __libc_start_main_impl (libc.so.6 + 0x2a47b)
                #10 0x000058e09b414cb5 n/a (/home/pramod/perf/stand_alone_drust_program/linked_list_bench/target/debug/linked_list_bench + 0x17cb5)
                ELF object binary architecture: AMD x86-64


GNU gdb (Ubuntu 15.1-1ubuntu2) 15.1
Copyright (C) 2024 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type "show copying" and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<https://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
    <http://www.gnu.org/software/gdb/documentation/>.

For help, type "help".
Type "apropos word" to search for commands related to "word"...
Reading symbols from /home/pramod/perf/stand_alone_drust_program/linked_list_bench/target/debug/linked_list_bench...
[New LWP 2473526]

This GDB supports auto-downloading debuginfo from the following URLs:
  <https://debuginfod.ubuntu.com>
Enable debuginfod for this session? (y or [n]) 
Debuginfod has been disabled.
To make this setting permanent, add 'set debuginfod enabled off' to .gdbinit.
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
Core was generated by `target/debug/linked_list_bench 600000000'.
Program terminated with signal SIGABRT, Aborted.
#0  __pthread_kill_implementation (threadid=<optimized out>, signo=6, no_tid=0) at ./nptl/pthread_kill.c:44

warning: 44	./nptl/pthread_kill.c: No such file or directory
warning: Missing auto-load script at offset 0 in section .debug_gdb_scripts
of file /home/pramod/perf/stand_alone_drust_program/linked_list_bench/target/debug/linked_list_bench.
Use `info auto-load python-scripts [REGEXP]' to list them.

(gdb) bt
#0  __pthread_kill_implementation (threadid=<optimized out>, signo=6, no_tid=0) at ./nptl/pthread_kill.c:44
#1  __pthread_kill_internal (threadid=<optimized out>, signo=6) at ./nptl/pthread_kill.c:78
#2  __GI___pthread_kill (threadid=<optimized out>, signo=signo@entry=6) at ./nptl/pthread_kill.c:89
#3  0x0000704baf44519e in __GI_raise (sig=sig@entry=6) at ../sysdeps/posix/raise.c:26
#4  0x0000704baf428902 in __GI_abort () at ./stdlib/abort.c:79
#5  0x000058e09b44017a in std::sys::pal::unix::abort_internal () at library/std/src/sys/pal/unix/mod.rs:363
#6  0x000058e09b43ee29 in std::process::abort () at library/std/src/process.rs:2535
#7  0x000058e09b442843 in std::sys::pal::unix::stack_overflow::thread_info::with_current_info<(), std::sys::pal::unix::stack_overflow::imp::signal_handler::{closure_env#0}> ()
    at library/std/src/sys/pal/unix/stack_overflow/thread_info.rs:64
#8  std::sys::pal::unix::stack_overflow::imp::signal_handler ()
    at library/std/src/sys/pal/unix/stack_overflow.rs:114
#9  <signal handler called>
#10 0x000058e09b416c74 in core::ptr::drop_in_place<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>> () at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#11 0x000058e09b416bb5 in core::ptr::drop_in_place<core::option::Option<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#12 0x000058e09b416b7e in core::ptr::drop_in_place<linked_list_bench::Node<usize>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#13 0x000058e09b416c86 in core::ptr::drop_in_place<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>> () at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#14 0x000058e09b416bb5 in core::ptr::drop_in_place<core::option::Option<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#15 0x000058e09b416b7e in core::ptr::drop_in_place<linked_list_bench::Node<usize>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#16 0x000058e09b416c86 in core::ptr::drop_in_place<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>> () at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#17 0x000058e09b416bb5 in core::ptr::drop_in_place<core::option::Option<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#18 0x000058e09b416b7e in core::ptr::drop_in_place<linked_list_bench::Node<usize>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#19 0x000058e09b416c86 in core::ptr::drop_in_place<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>> () at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#20 0x000058e09b416bb5 in core::ptr::drop_in_place<core::option::Option<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#21 0x000058e09b416b7e in core::ptr::drop_in_place<linked_list_bench::Node<usize>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#22 0x000058e09b416c86 in core::ptr::drop_in_place<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>> () at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#23 0x000058e09b416bb5 in core::ptr::drop_in_place<core::option::Option<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#24 0x000058e09b416b7e in core::ptr::drop_in_place<linked_list_bench::Node<usize>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#25 0x000058e09b416c86 in core::ptr::drop_in_place<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>> () at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#26 0x000058e09b416bb5 in core::ptr::drop_in_place<core::option::Option<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#27 0x000058e09b416b7e in core::ptr::drop_in_place<linked_list_bench::Node<usize>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#28 0x000058e09b416c86 in core::ptr::drop_in_place<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>> () at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#29 0x000058e09b416bb5 in core::ptr::drop_in_place<core::option::Option<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#30 0x000058e09b416b7e in core::ptr::drop_in_place<linked_list_bench::Node<usize>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#31 0x000058e09b416c86 in core::ptr::drop_in_place<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>> () at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#32 0x000058e09b416bb5 in core::ptr::drop_in_place<core::option::Option<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#33 0x000058e09b416b7e in core::ptr::drop_in_place<linked_list_bench::Node<usize>> ()
..
..
..
<snipped>
..
..
#262009 0x000058e09b416c86 in core::ptr::drop_in_place<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>> () at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#262010 0x000058e09b416bb5 in core::ptr::drop_in_place<core::option::Option<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#262011 0x000058e09b416b7e in core::ptr::drop_in_place<linked_list_bench::Node<usize>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#262012 0x000058e09b416c86 in core::ptr::drop_in_place<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>> () at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#262013 0x000058e09b416bb5 in core::ptr::drop_in_place<core::option::Option<alloc::boxed::Box<linked_list_bench::Node<usize>, alloc::alloc::Global>>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#262014 0x000058e09b416b6a in core::ptr::drop_in_place<linked_list_bench::LinkedList<usize>> ()
    at /rustc/fa5eda19b95201468f5b1c5c035ec2fc06fccd66/library/core/src/ptr/mod.rs:805
#262015 0x000058e09b4159d2 in linked_list_bench::main () at src/main.rs:105
(gdb) 

The bottom of the stack [frame#262015]  indicates that the (stack overflowing) call chain starts at 
#262015 0x000058e09b4159d2 in linked_list_bench::main () at src/main.rs:105
								^^^^^^^^^^^^^
(gdb) 

and the corresponding source code (main.rs)  with line number annotation is
96     if visited > 0 {
97         println!("\n[Efficiency Metrics]");
98         println!("Time per Node:   {:.2} ns", time_ns / visited as f64);
99         println!("Cycles per Node: {:.2} ticks", cycles_f / visited as f64);
100 
101         // This calculates the effective frequency during the test
102         let ghz = (cycles_f / time_ns);
103         println!("Effective Speed: {:.2} GHz", ghz);
104     }
105 }

conclusion: some rust runtime code (called just before main returns or after main returns; might have to look at the 
assembly inastructions)  that is getting invoked during cleanup and that seems to be allocating memory on the stack 


So after an interactive session with Gemini, i figured as to what was stated above was indeed the happenings and
expectedly it would have cause a stack overflow as seen in experimentation when the numer of noded alocated 
goes beyond a smallish number like 1 million or so.
